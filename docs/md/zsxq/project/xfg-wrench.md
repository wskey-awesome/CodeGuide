---
title: 通用技术组件 - 🔧扳手工程
lock: no
---

# 通用技术组件 - 🔧扳手工程，凝练共性功能，实现通用组件。为各个业务系统赋能！

作者：小傅哥
<br/>博客：[https://bugstack.cn](https://bugstack.cn)
<br/>课程：[https://t.zsxq.com/o7IBm](https://t.zsxq.com/o7IBm)

>沉淀、分享、成长，让自己和他人都能有所收获！😄

大家好，我是技术UP主小傅哥。

哈哈哈，死鬼！又带来了一个新项目，**《扳手工程》** 一个通用场景解决方案项目，嘎嘎的冲过来啦！`这已经是小傅哥社群里，第17个项目啦！😱`

<div align="center">
	<img src="https://bugstack.cn/images/article/project/chatgpt/chatgpt-extra-230905-01.png" width="150px"/>
</div>

**这是一个什么项目？**

在互联网公司真实业务开发场景下，往往会有很多的业务工程系统进行落地，如；电商、交易、信贷、营销、分润、清分/结算等等，这些业务场景会落地非常多的业务系统。而这些业务系统中，会有很多的相同的非业务逻辑的共性技术诉求的处理，如；动态属性配置、熔断、限流、异常、数据采集监控、增强的mock服务、流量录制回放、切面拦截日志、模型设计框架等等。

这些共性的组件东西，不可能让每个系统全部自己实现一遍，既耗费人力，最后又实现的五花八门非常难维护。所以，在互联网公司中，会单独把这类通用的逻辑凝练成共用的技术组件，让所需的业务场景进行引入使用。

<div align="center">
	<img src="https://bugstack.cn/images/article/project/xfg-wrench/xfg-wrench-0-04.png" width="750px"/>
</div>

那么，这就是小傅哥要带着你做的一款通用《扳手工程》 SpringBoot Starter 系列组件，用于星球的业务项目中使用。**😂 星球里也确实有非常多的业务项目了，不开一个这样东西，那么就要很多业务项目都重复的实现！**

> 💐 文末提供了17套实战项目源码，8套业务（含最新 AI RAG MCP）、8套组件，还有1套源码教程。

## 一、能学到啥

该项目是以真实的互联网企业架构方案为指导，建设星球业务项目通用技术组件支撑平台。全程手把手分析需求、架构工程、从0到1编码，让大家可以深入理解和学习组件化设计和落地。

- 深入学习 Spring、SpringBoot、MyBatis 框架源码，掌握 SPI 机制实例化组件入口，理解 Spring Bean 生命周期与 BeanPostProcessor 的实际应用，实现属性级别的动态注入与代理。
- 掌握 Redisson 客户端的配置与使用，基于 Redis 实现分布式发布/订阅消息机制。
- 理解自定义注解实现配置属性的自动注入与动态刷新，学习分布式系统中配置中心的设计与实现，提升组件化开发与扩展能力。
- 深入学习 Spring AOP 切面编程，掌握注解驱动的方法拦截与增强技术。
- 熟练运用 Guava RateLimiter 实现令牌桶算法的接口限流保护机制。
- 掌握自定义注解与反射机制结合，实现灵活的功能配置与参数提取，精通本地缓存设计与管理，提升系统性能与资源利用率。
- 深入理解分布式系统限流与降级策略，构建高可用服务保障体系。
- 熟练应用代理模式与策略模式，提升代码的可扩展性与可维护性，掌握 Java 反射机制在属性获取与方法调用中的高级应用。
- 精通动态配置管理与功能开关设计，实现系统的灵活控制，深入理解异常处理与日志记录的最佳实践，提升系统可观测性。
- 掌握面向接口编程思想，设计支持分布式场景扩展的组件架构，深入掌握责任链模式在复杂业务流程中的应用，提升系统解耦与扩展能力。
- 学习策略模式在动态业务路由与决策中的实现，增强系统灵活性，掌握泛型与函数式接口在设计模式中的高阶用法，提升代码复用性与类型安全。
- 理解链式调用与链路装配技术，实现业务处理链的灵活组装与动态扩展，掌握多线程与异步策略路由的设计与实现，提升系统并发处理能力。
- 学习接口+抽象类+实现类的分层设计思想，为后续 SPI 等机制扩展预留入口。

以上，仅是关于组件技术开发的一部分，如果你想把一些之前硬背过的关于核心技术组件场景解决方案的东西彻底学会，而不是简简单单的背，那么这趟技术列车千万别错过。

## 二、项目介绍

本次项目你会学习到非常多的共性场景解决方案，这些内容可以引入到你做过的业务项目中进行使用。全过程以实际问题场景触发，设计解决方案，手把手编码。组件项目完成后，还会带着你发布自己的Jar到共有平台（https://mvnrepository.com/） 其他人也能引入使用。

### 1. 背景举例

<div align="center">
	<img src="https://bugstack.cn/images/article/project/xfg-wrench/xfg-wrench-0-03.png" width="950px"/>
</div>

当你学习大营销、拼团、OpenAI 应用等业务系统时，会遇到很多同类的功能诉求，如；规则树的设计模式、DCC 动态配置中心、接口限流配置等。这些东西其实都可以被抽象凝练成一个通用的技术组件，引入后直接配置使用即可，而不需要在每个业务系统中都开发一遍。

### 2. 架构设计

设计通用的统一规范的扳手工程；

<div align="center">
	<img src="https://bugstack.cn/images/article/project/xfg-wrench/xfg-wrench-0-01.png" width="450px"/>
</div>

- 首先，我们会搭建一套标准的扳手框架 Spring Starter 工程。在工程内，以模块化方式陆续实现，动态配置、限流服务、通用设计模块框架。
- 之后，以 Redis 作为简单注册中心使用，管理动态配置、限流服务等，再以 admin 管理端，下达配置命令，来动态操作工程配置。

### 3. 工程模型

<div align="center">
	<img src="https://bugstack.cn/images/article/project/xfg-wrench/xfg-wrench-0-02.png" width="450px"/>
</div>

- 定义 xfg-wrench 扳手工程，以 xfg-wrench-starter 为前缀，命名各项服务组件。如；`xfg-wrench-starter-dynamic-config-center`
- xfg-wrench-test 为测试工程，用于验证各个模块的功能实现。
- xfg-wrench-admin 为管理后台，后续陆续创建完成。以及其他模块组件陆续迭代开发。

### 4. 流程设计（举例 DCC 动态配置）

如图，动态配置中心功能流程设计；

<div align="center">
	<img src="https://bugstack.cn/images/article/project/xfg-wrench/xfg-wrench-1-01.png" width="850px"/>
</div>

- 以 SPI 机制，实现组件入口类的注册。驱动注册中心和 Spring 容器工作。也就是工程的 `META-INF/spring.factories` 文件里配置的类，会被引入此组件的其他 SpringBoot 应用进行调用启动。
- 接下来，注册配置会链接 Redis 当做注册中心使用。因为 Redis 具备了存储和发布订阅的功能，如 Dubbo 也可以使用 Redis 作为简单注册中心使用一样。而后出初始化动态配置中心的服务，以及监听订阅消息。
- 在之后，拦截 Spring 容器实例化的 Bean 对象，找到使用了自定义注解 `@DCCValue` 的属性，对其拦截动态读取 Redis 中配置属性值（如无则首次设置值），之后对属性进行反射调用，设置变更后端 属性值。
- 最后是，我们操作推送 Redis 发布订阅消息，则可以被消息回调，变更属性值。

## 三、加入学习

课程采用 `文档` + `视频`教程，全流程带着你分析和实现，并且会把组件也业务项目结合。小傅哥带着你做的，就是互联网中真实场景的运用。

<div align="center">
	<img src="https://bugstack.cn/images/article/project/xfg-wrench/xfg-wrench-0-05.png" width="750px"/>
</div>
**注意📢**，本项目也只是**【星球：码农会锁】**众多项目中的1个，其他的项目还包括：拼团、大营销、小型支付商城、AI RAG MCP、OpenAI 代码自动评审、动态线程池、支付SDK、API网关、Lottery抽奖、IM通信、SpringBoot Starter 组件开发、IDEA Plugin 插件开发等，并还有开源项目学习。

> 这将是一个新的技术旅程，在这趟车上🚗，你会了解到互联网公司大厂🏭是如何对这类场景的方案落地的。
